<div class="navbar navbar-default" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">Oslaw</a>
    </div>
    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav navbar-right">
        <% if user_signed_in? %>
          <% if current_user.admin? %>
            <li><%= link_to '<i class="fa fa-user"></i> '.html_safe + current_user.first_name + current_user.last_name, users_path, class: 'navbar-link' %></li>
          <% else %>
            <li><%= link_to '<i class="fa fa-user"></i> '.html_safe + current_user.first_name + current_user.last_name, user_path(current_user), class: 'navbar-link' %></li>
          <% end %>
          <li><%= link_to '<i class="fa fa-files-o"></i> Pages'.html_safe, posts_path, :class => 'navbar-link' %></li>
          <li><%= link_to '<i class="fa fa-sign-out"></i> Sign Out'.html_safe, destroy_user_session_path, method: :delete, class: 'navbar-link'  %></a></li>
        <% else %>
          <li><%= link_to '<i class="fa fa-user-plus"></i> Sign Up'.html_safe, new_user_registration_path %></li>
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class="fa fa-sign-in"></i> Sign In</a>
            <ul class="dropdown-menu">
              <%= simple_form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
                <div class="form-inputs">
                  <%= f.input :login, placeholder: "username or email address", required: true, autofocus: true %>
                  <%= f.input :password, required: true %>
                  <%= f.input :remember_me, as: :boolean if devise_mapping.rememberable? %>
                  <%= f.button :button, "Sign In".html_safe, class: 'btn btn-success', data: {disable_with: "<i class='fa fa-spinner fa-spin'></i> Signing in..."} %>
                </div>
              <% end %>
              <br/>Need an account? <%= link_to "Sign Up", new_registration_path(resource_name) %><br />
              <%= link_to "Resend confirmation instructions", new_confirmation_path(resource_name) %>
            </ul>
          </li>
        <% end %>
      </ul>
    </div>
  </div>
</div>
